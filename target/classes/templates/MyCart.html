<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>My Cart</title>
  <link rel="stylesheet" href="MyCart.css" />
</head>
<body>
	<header>
	<div th:replace="fragments/header :: header(${loggedInUser})"></div>
	</header>

  <div id="body">
    <br />
    <div id="grey_box">
      <h1 id="Login_text">My Cart</h1>
   
    <div id="cart_container">
      <table id="cart_table">
        <thead>
          <tr>
            <th>Image</th>
            <th>Name</th>
            <th>Rating</th>
            <th>Old Price</th>
            <th>New Price</th>
			<th>Delete</th>
          </tr>
        </thead>
        <tbody>
			<tr th:each="ProductDetails : ${cartProducts}">
			  <td>
			    <img id="product_image"
			         th:src="@{'/Images/Phones_images/' + ${ProductDetails.imageUrl}}"
			         alt="Product Image" />
			  </td>
			  <td th:text="${ProductDetails.name}">name</td>
			  <td th:text="${ProductDetails.rating}">★★★★☆</td>
			  <td th:text="${ProductDetails.oldPrice}"><s>$350.00</s></td>
			  <td th:text="${ProductDetails.newPrice}">$299.00</td>
			  <td>
			    <form th:action="@{/DeleteCart}" method="get">
			      <input type="hidden" name="productId" th:value="${ProductDetails.productId}" />
				  <img id="Delete_button_Cart" src="Images/Delete_button_Cart.jpg" alt="Delete" style="cursor:pointer;">
			    </form>
			  </td>
			</tr>		
        </tbody>
      </table>
    </div>
  </div>
  </div>
          <footer id="footer">
  			<div class="foot_panel1"><button id="to_top" onclick="window.scrollTo({ top: 0, behavior: 'smooth' });">
  					  		  	  Back to Top
  					  		  	</button></div>
  			<object type="text/html" data="footer.html" width="100%" height="540px" style="border: none;"></object>
  </footer>
  </body>
  <script>
  	window.addEventListener("pageshow", function (event) {
  	    if (event.persisted) {
  	        window.location.reload();
  	    } 
  	});
  </script>
</html>
